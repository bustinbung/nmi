import{a as S,t as m}from"../chunks/disclose-version.CTIWshFm.js";import{i as T}from"../chunks/legacy.D77gbAqi.js";import{p as P,j as k}from"../chunks/runtime.DqI2YHb0.js";import{o as D}from"../chunks/index-client.Nv4UsW3K.js";const V=65536*65536,g=1/V,y=12,p=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),w=0,f=1,u=2,c=5;class E{constructor(t=new Uint8Array(16)){this.buf=ArrayBuffer.isView(t)?t:new Uint8Array(t),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(t,e,s=this.length){for(;this.pos<s;){const r=this.readVarint(),n=r>>3,a=this.pos;this.type=r&7,t(n,e,this),this.pos===a&&this.skip(r)}return e}readMessage(t,e){return this.readFields(t,e,this.readVarint()+this.pos)}readFixed32(){const t=this.dataView.getUint32(this.pos,!0);return this.pos+=4,t}readSFixed32(){const t=this.dataView.getInt32(this.pos,!0);return this.pos+=4,t}readFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*V;return this.pos+=8,t}readSFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*V;return this.pos+=8,t}readFloat(){const t=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,t}readDouble(){const t=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,t}readVarint(t){const e=this.buf;let s,r;return r=e[this.pos++],s=r&127,r<128||(r=e[this.pos++],s|=(r&127)<<7,r<128)||(r=e[this.pos++],s|=(r&127)<<14,r<128)||(r=e[this.pos++],s|=(r&127)<<21,r<128)?s:(r=e[this.pos],s|=(r&15)<<28,B(s,t,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const t=this.readVarint();return t%2===1?(t+1)/-2:t/2}readBoolean(){return!!this.readVarint()}readString(){const t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=y&&p?p.decode(this.buf.subarray(e,t)):q(this.buf,e,t)}readBytes(){const t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e}readPackedVarint(t=[],e){const s=this.readPackedEnd();for(;this.pos<s;)t.push(this.readVarint(e));return t}readPackedSVarint(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSVarint());return t}readPackedBoolean(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readBoolean());return t}readPackedFloat(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFloat());return t}readPackedDouble(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readDouble());return t}readPackedFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed32());return t}readPackedSFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed32());return t}readPackedFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed64());return t}readPackedSFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed64());return t}readPackedEnd(){return this.type===u?this.readVarint()+this.pos:this.pos+1}skip(t){const e=t&7;if(e===w)for(;this.buf[this.pos++]>127;);else if(e===u)this.pos=this.readVarint()+this.pos;else if(e===c)this.pos+=4;else if(e===f)this.pos+=8;else throw new Error(`Unimplemented type: ${e}`)}writeTag(t,e){this.writeVarint(t<<3|e)}realloc(t){let e=this.length||16;for(;e<this.pos+t;)e*=2;if(e!==this.length){const s=new Uint8Array(e);s.set(this.buf),this.buf=s,this.dataView=new DataView(s.buffer),this.length=e}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeSFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,t&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*g),!0),this.pos+=8}writeSFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,t&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*g),!0),this.pos+=8}writeVarint(t){if(t=+t||0,t>268435455||t<0){M(t,this);return}this.realloc(4),this.buf[this.pos++]=t&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=t>>>7&127)))}writeSVarint(t){this.writeVarint(t<0?-t*2-1:t*2)}writeBoolean(t){this.writeVarint(+t)}writeString(t){t=String(t),this.realloc(t.length*4),this.pos++;const e=this.pos;this.pos=O(this.buf,t,this.pos);const s=this.pos-e;s>=128&&_(e,s,this),this.pos=e-1,this.writeVarint(s),this.pos+=s}writeFloat(t){this.realloc(4),this.dataView.setFloat32(this.pos,t,!0),this.pos+=4}writeDouble(t){this.realloc(8),this.dataView.setFloat64(this.pos,t,!0),this.pos+=8}writeBytes(t){const e=t.length;this.writeVarint(e),this.realloc(e);for(let s=0;s<e;s++)this.buf[this.pos++]=t[s]}writeRawMessage(t,e){this.pos++;const s=this.pos;t(e,this);const r=this.pos-s;r>=128&&_(s,r,this),this.pos=s-1,this.writeVarint(r),this.pos+=r}writeMessage(t,e,s){this.writeTag(t,u),this.writeRawMessage(e,s)}writePackedVarint(t,e){e.length&&this.writeMessage(t,R,e)}writePackedSVarint(t,e){e.length&&this.writeMessage(t,A,e)}writePackedBoolean(t,e){e.length&&this.writeMessage(t,H,e)}writePackedFloat(t,e){e.length&&this.writeMessage(t,U,e)}writePackedDouble(t,e){e.length&&this.writeMessage(t,L,e)}writePackedFixed32(t,e){e.length&&this.writeMessage(t,N,e)}writePackedSFixed32(t,e){e.length&&this.writeMessage(t,z,e)}writePackedFixed64(t,e){e.length&&this.writeMessage(t,G,e)}writePackedSFixed64(t,e){e.length&&this.writeMessage(t,X,e)}writeBytesField(t,e){this.writeTag(t,u),this.writeBytes(e)}writeFixed32Field(t,e){this.writeTag(t,c),this.writeFixed32(e)}writeSFixed32Field(t,e){this.writeTag(t,c),this.writeSFixed32(e)}writeFixed64Field(t,e){this.writeTag(t,f),this.writeFixed64(e)}writeSFixed64Field(t,e){this.writeTag(t,f),this.writeSFixed64(e)}writeVarintField(t,e){this.writeTag(t,w),this.writeVarint(e)}writeSVarintField(t,e){this.writeTag(t,w),this.writeSVarint(e)}writeStringField(t,e){this.writeTag(t,u),this.writeString(e)}writeFloatField(t,e){this.writeTag(t,c),this.writeFloat(e)}writeDoubleField(t,e){this.writeTag(t,f),this.writeDouble(e)}writeBooleanField(t,e){this.writeVarintField(t,+e)}}function B(i,t,e){const s=e.buf;let r,n;if(n=s[e.pos++],r=(n&112)>>4,n<128||(n=s[e.pos++],r|=(n&127)<<3,n<128)||(n=s[e.pos++],r|=(n&127)<<10,n<128)||(n=s[e.pos++],r|=(n&127)<<17,n<128)||(n=s[e.pos++],r|=(n&127)<<24,n<128)||(n=s[e.pos++],r|=(n&1)<<31,n<128))return x(i,r,t);throw new Error("Expected varint not more than 10 bytes")}function x(i,t,e){return e?t*4294967296+(i>>>0):(t>>>0)*4294967296+(i>>>0)}function M(i,t){let e,s;if(i>=0?(e=i%4294967296|0,s=i/4294967296|0):(e=~(-i%4294967296),s=~(-i/4294967296),e^4294967295?e=e+1|0:(e=0,s=s+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),I(e,s,t),C(s,t)}function I(i,t,e){e.buf[e.pos++]=i&127|128,i>>>=7,e.buf[e.pos++]=i&127|128,i>>>=7,e.buf[e.pos++]=i&127|128,i>>>=7,e.buf[e.pos++]=i&127|128,i>>>=7,e.buf[e.pos]=i&127}function C(i,t){const e=(i&7)<<4;t.buf[t.pos++]|=e|((i>>>=3)?128:0),i&&(t.buf[t.pos++]=i&127|((i>>>=7)?128:0),i&&(t.buf[t.pos++]=i&127|((i>>>=7)?128:0),i&&(t.buf[t.pos++]=i&127|((i>>>=7)?128:0),i&&(t.buf[t.pos++]=i&127|((i>>>=7)?128:0),i&&(t.buf[t.pos++]=i&127)))))}function _(i,t,e){const s=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));e.realloc(s);for(let r=e.pos-1;r>=i;r--)e.buf[r+s]=e.buf[r]}function R(i,t){for(let e=0;e<i.length;e++)t.writeVarint(i[e])}function A(i,t){for(let e=0;e<i.length;e++)t.writeSVarint(i[e])}function U(i,t){for(let e=0;e<i.length;e++)t.writeFloat(i[e])}function L(i,t){for(let e=0;e<i.length;e++)t.writeDouble(i[e])}function H(i,t){for(let e=0;e<i.length;e++)t.writeBoolean(i[e])}function N(i,t){for(let e=0;e<i.length;e++)t.writeFixed32(i[e])}function z(i,t){for(let e=0;e<i.length;e++)t.writeSFixed32(i[e])}function G(i,t){for(let e=0;e<i.length;e++)t.writeFixed64(i[e])}function X(i,t){for(let e=0;e<i.length;e++)t.writeSFixed64(i[e])}function q(i,t,e){let s="",r=t;for(;r<e;){const n=i[r];let a=null,h=n>239?4:n>223?3:n>191?2:1;if(r+h>e)break;let d,l,F;h===1?n<128&&(a=n):h===2?(d=i[r+1],(d&192)===128&&(a=(n&31)<<6|d&63,a<=127&&(a=null))):h===3?(d=i[r+1],l=i[r+2],(d&192)===128&&(l&192)===128&&(a=(n&15)<<12|(d&63)<<6|l&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):h===4&&(d=i[r+1],l=i[r+2],F=i[r+3],(d&192)===128&&(l&192)===128&&(F&192)===128&&(a=(n&15)<<18|(d&63)<<12|(l&63)<<6|F&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,h=1):a>65535&&(a-=65536,s+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),s+=String.fromCharCode(a),r+=h}return s}function O(i,t,e){for(let s=0,r,n;s<t.length;s++){if(r=t.charCodeAt(s),r>55295&&r<57344)if(n)if(r<56320){i[e++]=239,i[e++]=191,i[e++]=189,n=r;continue}else r=n-55296<<10|r-56320|65536,n=null;else{r>56319||s+1===t.length?(i[e++]=239,i[e++]=191,i[e++]=189):n=r;continue}else n&&(i[e++]=239,i[e++]=191,i[e++]=189,n=null);r<128?i[e++]=r:(r<2048?i[e++]=r>>6|192:(r<65536?i[e++]=r>>12|224:(i[e++]=r>>18|240,i[e++]=r>>12&63|128),i[e++]=r>>6&63|128),i[e++]=r&63|128)}return e}function W(i,t){return i.readFields(Y,{active_period:[],informed_entity:[],cause:1,effect:8,url:void 0,header_text:void 0,description_text:void 0,tts_header_text:void 0,tts_description_text:void 0,severity_level:1,image:void 0,image_alternative_text:void 0,cause_detail:void 0,effect_detail:void 0},t)}function Y(i,t,e){i===1?t.active_period.push($(e,e.readVarint()+e.pos)):i===5?t.informed_entity.push(j(e,e.readVarint()+e.pos)):i===6?t.cause=e.readVarint():i===7?t.effect=e.readVarint():i===8?t.url=o(e,e.readVarint()+e.pos):i===10?t.header_text=o(e,e.readVarint()+e.pos):i===11?t.description_text=o(e,e.readVarint()+e.pos):i===12?t.tts_header_text=o(e,e.readVarint()+e.pos):i===13?t.tts_description_text=o(e,e.readVarint()+e.pos):i===14?t.severity_level=e.readVarint():i===15?t.image=re(e,e.readVarint()+e.pos):i===16?t.image_alternative_text=o(e,e.readVarint()+e.pos):i===17?t.cause_detail=o(e,e.readVarint()+e.pos):i===18&&(t.effect_detail=o(e,e.readVarint()+e.pos))}function $(i,t){return i.readFields(v,{start:0,end:0},t)}function v(i,t,e){i===1?t.start=e.readVarint():i===2&&(t.end=e.readVarint())}function J(i,t){return i.readFields(K,{trip_id:"",route_id:"",direction_id:0,start_time:"",start_date:"",schedule_relationship:0,modified_trip:void 0},t)}function K(i,t,e){i===1?t.trip_id=e.readString():i===5?t.route_id=e.readString():i===6?t.direction_id=e.readVarint():i===2?t.start_time=e.readString():i===3?t.start_date=e.readString():i===4?t.schedule_relationship=e.readVarint():i===7&&(t.modified_trip=Q(e,e.readVarint()+e.pos))}function Q(i,t){return i.readFields(Z,{modifications_id:"",affected_trip_id:"",start_time:"",start_date:""},t)}function Z(i,t,e){i===1?t.modifications_id=e.readString():i===2?t.affected_trip_id=e.readString():i===3?t.start_time=e.readString():i===4&&(t.start_date=e.readString())}function j(i,t){return i.readFields(b,{agency_id:"",route_id:"",route_type:0,trip:void 0,stop_id:"",direction_id:0},t)}function b(i,t,e){i===1?t.agency_id=e.readString():i===2?t.route_id=e.readString():i===3?t.route_type=e.readVarint(!0):i===4?t.trip=J(e,e.readVarint()+e.pos):i===5?t.stop_id=e.readString():i===6&&(t.direction_id=e.readVarint())}function o(i,t){return i.readFields(ee,{translation:[]},t)}function ee(i,t,e){i===1&&t.translation.push(te(e,e.readVarint()+e.pos))}function te(i,t){return i.readFields(ie,{text:"",language:""},t)}function ie(i,t,e){i===1?t.text=e.readString():i===2&&(t.language=e.readString())}function re(i,t){return i.readFields(se,{localized_image:[]},t)}function se(i,t,e){i===1&&t.localized_image.push(ne(e,e.readVarint()+e.pos))}function ne(i,t){return i.readFields(ae,{url:"",media_type:"",language:""},t)}function ae(i,t,e){i===1?t.url=e.readString():i===2?t.media_type=e.readString():i===3&&(t.language=e.readString())}var de=m("<h1>MARTA Real-time Transit Information</h1>");function ue(i,t){P(t,!1),D(()=>{try{const s=fetch("https://gtfs-rt.itsmarta.com/TMGTFSRealTimeWebService/vehicle/vehiclepositions.pb");console.log(s)}catch{throw new Error("Failed")}}),W(new E),T();var e=de();S(i,e),k()}export{ue as component};
